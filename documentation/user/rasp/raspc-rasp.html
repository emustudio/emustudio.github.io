<!DOCTYPE html> <html lang="en-US"> <head> <meta charset="UTF-8"> <meta http-equiv="X-UA-Compatible" content="IE=Edge"> <title>Compiler "raspc-rasp" - User documentation for emuStudio</title> <link rel="shortcut icon" href="/documentation/user/favicon.ico" type="image/x-icon"> <link rel="stylesheet" href="/documentation/user/assets/css/just-the-docs-default.css"> <script async src="https://www.googletagmanager.com/gtag/js?id=UA-3492956-5"></script> <script> window.dataLayer = window.dataLayer || []; function gtag(){dataLayer.push(arguments);} gtag('js', new Date()); gtag('config', 'UA-3492956-5', { 'anonymize_ip': true }); </script> <script type="text/javascript" src="/documentation/user/assets/js/vendor/lunr.min.js"></script> <script type="text/javascript" src="/documentation/user/assets/js/just-the-docs.js"></script> <meta name="viewport" content="width=device-width, initial-scale=1"> <!-- Begin Jekyll SEO tag v2.6.1 --> <title>Compiler “raspc-rasp” | User documentation for emuStudio</title> <meta name="generator" content="Jekyll v3.8.7" /> <meta property="og:title" content="Compiler “raspc-rasp”" /> <meta property="og:locale" content="en_US" /> <meta name="description" content="User documentation for emuStudio 0.40. emuStudio is universal emulation platform and framework targeting mainly academic sphere." /> <meta property="og:description" content="User documentation for emuStudio 0.40. emuStudio is universal emulation platform and framework targeting mainly academic sphere." /> <link rel="canonical" href="/documentation/user/rasp/raspc-rasp" /> <meta property="og:url" content="/documentation/user/rasp/raspc-rasp" /> <meta property="og:site_name" content="User documentation for emuStudio" /> <script type="application/ld+json"> {"description":"User documentation for emuStudio 0.40. emuStudio is universal emulation platform and framework targeting mainly academic sphere.","@type":"WebPage","headline":"Compiler “raspc-rasp”","publisher":{"@type":"Organization","logo":{"@type":"ImageObject","url":"/documentation/user/assets/logo-1.svg"}},"url":"/documentation/user/rasp/raspc-rasp","@context":"https://schema.org"}</script> <!-- End Jekyll SEO tag --> </head> <body> <svg xmlns="http://www.w3.org/2000/svg" style="display: none;"> <symbol id="svg-link" viewBox="0 0 24 24"> <title>Link</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-link"> <path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path> </svg> </symbol> <symbol id="svg-search" viewBox="0 0 24 24"> <title>Search</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-search"> <circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line> </svg> </symbol> <symbol id="svg-menu" viewBox="0 0 24 24"> <title>Menu</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-menu"> <line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line> </svg> </symbol> <symbol id="svg-arrow-right" viewBox="0 0 24 24"> <title>Expand</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-chevron-right"> <polyline points="9 18 15 12 9 6"></polyline> </svg> </symbol> <symbol id="svg-doc" viewBox="0 0 24 24"> <title>Document</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-file"> <path d="M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z"></path><polyline points="13 2 13 9 20 9"></polyline> </svg> </symbol> </svg> <div class="side-bar"> <div class="site-header"> <a href="/documentation/user/" class="site-title lh-tight"> <div class="site-logo"></div> </a> <a href="#" id="menu-button" class="site-button"> <svg viewBox="0 0 24 24" class="icon"><use xlink:href="#svg-menu"></use></svg> </a> </div> <nav role="navigation" aria-label="Main" id="site-nav" class="site-nav"> <ul class="nav-list"><li class="nav-list-item"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="/documentation/user/application/" class="nav-list-link">emuStudio Application</a><ul class="nav-list "><li class="nav-list-item "><a href="/documentation/user/application/configuration-file" class="nav-list-link">Configuration file</a></li><li class="nav-list-item "><a href="/documentation/user/application/opening-computer" class="nav-list-link">Opening a computer</a></li><li class="nav-list-item "><a href="/documentation/user/application/computer-schema" class="nav-list-link">Computer schema</a></li><li class="nav-list-item "><a href="/documentation/user/application/main-window" class="nav-list-link">Main window</a></li><li class="nav-list-item "><a href="/documentation/user/application/automation" class="nav-list-link">Automation</a></li><li class="nav-list-item "><a href="/documentation/user/application/logging" class="nav-list-link">Logging</a></li></ul></li><li class="nav-list-item"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="/documentation/user/altair8800/" class="nav-list-link">MITS Altair8800</a><ul class="nav-list "><li class="nav-list-item "><a href="/documentation/user/altair8800/as-8080" class="nav-list-link">Assembler as-8080</a></li><li class="nav-list-item "><a href="/documentation/user/altair8800/as-z80" class="nav-list-link">Assembler as-z80</a></li><li class="nav-list-item "><a href="/documentation/user/altair8800/8080-cpu" class="nav-list-link">CPU 8080-cpu</a></li><li class="nav-list-item "><a href="/documentation/user/altair8800/z80-cpu" class="nav-list-link">CPU z80-cpu</a></li><li class="nav-list-item "><a href="/documentation/user/altair8800/standard-mem" class="nav-list-link">Memory standard-mem</a></li><li class="nav-list-item "><a href="/documentation/user/altair8800/88-disk" class="nav-list-link">Device 88-disk</a></li><li class="nav-list-item "><a href="/documentation/user/altair8800/88-sio" class="nav-list-link">Device 88-sio</a></li><li class="nav-list-item "><a href="/documentation/user/altair8800/adm3a-terminal" class="nav-list-link">Device adm3a-terminal</a></li><li class="nav-list-item "><a href="/documentation/user/altair8800/simhPseudo-z80" class="nav-list-link">Device simhPseudo-z80</a></li><li class="nav-list-item "><a href="/documentation/user/altair8800/automation" class="nav-list-link">Automation</a></li><li class="nav-list-item "><a href="/documentation/user/altair8800/software" class="nav-list-link">Original software</a></li></ul></li><li class="nav-list-item"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="/documentation/user/brainduck/" class="nav-list-link">BrainDuck</a><ul class="nav-list "><li class="nav-list-item "><a href="/documentation/user/brainduck/compiler" class="nav-list-link">Compiler "brainc-brainduck"</a></li><li class="nav-list-item "><a href="/documentation/user/brainduck/cpu" class="nav-list-link">CPU "brainduck-cpu"</a></li><li class="nav-list-item "><a href="/documentation/user/brainduck/mem" class="nav-list-link">Memory "brainduck-mem"</a></li><li class="nav-list-item "><a href="/documentation/user/brainduck/terminal" class="nav-list-link">Terminal "brainduck-terminal"</a></li><li class="nav-list-item "><a href="/documentation/user/brainduck/automation" class="nav-list-link">Automation</a></li><li class="nav-list-item "><a href="/documentation/user/brainduck/examples" class="nav-list-link">Example code</a></li></ul></li><li class="nav-list-item"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="/documentation/user/ram/" class="nav-list-link">RAM</a><ul class="nav-list "><li class="nav-list-item "><a href="/documentation/user/ram/ramc-ram" class="nav-list-link">Compiler "ramc-ram"</a></li><li class="nav-list-item "><a href="/documentation/user/ram/ram-cpu" class="nav-list-link">CPU "ram-cpu"</a></li><li class="nav-list-item "><a href="/documentation/user/ram/ram-mem" class="nav-list-link">Memory "ram-mem"</a></li><li class="nav-list-item "><a href="/documentation/user/ram/abstract-tape" class="nav-list-link">Abstract tape</a></li><li class="nav-list-item "><a href="/documentation/user/ram/automation" class="nav-list-link">Automation</a></li></ul></li><li class="nav-list-item active"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="/documentation/user/rasp/" class="nav-list-link">RASP</a><ul class="nav-list "><li class="nav-list-item active"><a href="/documentation/user/rasp/raspc-rasp" class="nav-list-link active">Compiler "raspc-rasp"</a></li><li class="nav-list-item "><a href="/documentation/user/rasp/rasp-cpu" class="nav-list-link">CPU "rasp-cpu"</a></li><li class="nav-list-item "><a href="/documentation/user/rasp/rasp-mem" class="nav-list-link">Memory "rasp-mem"</a></li><li class="nav-list-item "><a href="/documentation/user/rasp/automation" class="nav-list-link">Automation</a></li></ul></li><li class="nav-list-item"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="/documentation/user/ssem/" class="nav-list-link">SSEM</a><ul class="nav-list "><li class="nav-list-item "><a href="/documentation/user/ssem/as-ssem" class="nav-list-link">Assembler "as-ssem"</a></li><li class="nav-list-item "><a href="/documentation/user/ssem/ssem-cpu" class="nav-list-link">CPU "ssem-cpu"</a></li><li class="nav-list-item "><a href="/documentation/user/ssem/ssem-mem" class="nav-list-link">Memory "ssem-mem"</a></li><li class="nav-list-item "><a href="/documentation/user/ssem/ssem-display" class="nav-list-link">Display "ssem-display"</a></li><li class="nav-list-item "><a href="/documentation/user/ssem/automation" class="nav-list-link">Automation</a></li><li class="nav-list-item "><a href="/documentation/user/ssem/software" class="nav-list-link">Software for SSEM</a></li></ul></li><li class="nav-list-item"><a href="/documentation/user/introduction/" class="nav-list-link">Introduction</a></li></ul> </nav> <footer class="site-footer"> This site uses <a href="https://github.com/pmarsceill/just-the-docs">Just the Docs</a>, a documentation theme for Jekyll. </footer> </div> <div class="main" id="top"> <div id="main-header" class="main-header"> <div class="search"> <div class="search-input-wrap"> <input type="text" id="search-input" class="search-input" tabindex="0" placeholder="Search User documentation for emuStudio" aria-label="Search User documentation for emuStudio" autocomplete="off"> <label for="search-input" class="search-label"><svg viewBox="0 0 24 24" class="search-icon"><use xlink:href="#svg-search"></use></svg></label> </div> <div id="search-results" class="search-results"></div> </div> <nav aria-label="Auxiliary" class="aux-nav"> <ul class="aux-nav-list"> <li class="aux-nav-list-item"> <a href="/" class="site-button" > Back to website </a> </li> </ul> </nav> </div> <div id="main-content-wrap" class="main-content-wrap"> <nav aria-label="Breadcrumb" class="breadcrumb-nav"> <ol class="breadcrumb-nav-list"> <li class="breadcrumb-nav-list-item"><a href="/documentation/user/rasp/">RASP</a></li> <li class="breadcrumb-nav-list-item"><span>Compiler "raspc-rasp"</span></li> </ol> </nav> <div id="main-content" class="main-content" role="main"> <script type="text/javascript"> gtag('event', 'userdoc', { 'event_category': 'RASP', 'event_label': 'Compiler "raspc-rasp"' }); </script> <h1 id="compiler-raspc-rasp"> <a href="#compiler-raspc-rasp" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Compiler “raspc-rasp” </h1> <p>RASP compiler is included in the architecture of the RASP virtual computer in emuStudio. Its purpose is to translate the source code of a RASP program into the form executable by the RASP CPU emulator.</p> <p>It includes a lexical analyzer which is responsible for recognizing lexical units within the source code. It also enables syntax highlighting. Then, the code goes through syntax analysis which checks for syntax errors and builds up the syntactic tree. The tree is then passed through and binary code executable by the emulator is generated.</p> <p>As with the other emuStudio compilers, you start the compilation by the “Compile source” icon in the main menu. The result of the compilation is saved into a binary file with the <code class="language-plaintext highlighter-rouge">.bin</code> extension and also loaded into the RASP operating memory.</p> <h2 id="language-syntax"> <a href="#language-syntax" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Language syntax </h2> <h3 id="program-start-definition"> <a href="#program-start-definition" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Program start definition </h3> <p>As RASP is a von-Neumann computer, both the program and the data reside in the same memory module. Therefore, we need to specify, where the program start address is as CPU must know where to start emulation. We do so by the <code class="language-plaintext highlighter-rouge">org</code> directive followed by a positive integer. The program start definition <em>must</em> be the <em>first line</em> of the source code. Please, <em>do not</em> place any <em>empty lines</em> before it. Here, an example follows:</p> <div class="language-plaintext code-example highlighter-rouge"><div class="highlight"><pre class="highlight"><code>org 5
</code></pre></div></div> <p>WARNING: If you do not specify the program start address, or if you set it to <code class="language-plaintext highlighter-rouge">0</code> (<code class="language-plaintext highlighter-rouge">org 0</code>), the default value will be used, which is <code class="language-plaintext highlighter-rouge">20</code>. The compiler will warn you about this, so do not worry. Setting program start to <code class="language-plaintext highlighter-rouge">0</code> is not allowed as register <code class="language-plaintext highlighter-rouge">R0</code> is used as the <em>accumulator</em> and therefore any instruction written here would be overwritten sooner or later.</p> <h3 id="supported-instructions"> <a href="#supported-instructions" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Supported instructions </h3> <p>All RASP emulator supported instructions together with their semantics are available in the RASP CPU documentation. There are three types of operands of those instructions:</p> <ul> <li>register - e.g. <code class="language-plaintext highlighter-rouge">READ 1</code></li> <li>constant - e.g. <code class="language-plaintext highlighter-rouge">WRITE =2</code> - you specify that operand of instruction should be interpreted as a constant by the <code class="language-plaintext highlighter-rouge">=</code> character.</li> <li>label, which is the operand of jump instructions (<code class="language-plaintext highlighter-rouge">JMP</code>, <code class="language-plaintext highlighter-rouge">JZ</code>, <code class="language-plaintext highlighter-rouge">JGTZ</code>), e.g. <code class="language-plaintext highlighter-rouge">JMP *label*</code></li> </ul> <h3 id="line-of-code-structure"> <a href="#line-of-code-structure" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Line of code structure </h3> <p>Each RASP instruction with its operand <em>MUST</em> be on a separate line, otherwise, the code will not compile.</p> <p>A single line of code consists of <em>instruction</em> followed by its <em>operand</em>. The line can be optionally started with a <em>label</em>. It is possible to put the label and the instruction on two separate lines, however, please, <em>do not</em> place any <em>empty lines</em> between the label and the instruction.</p> <p>Example (<code class="language-plaintext highlighter-rouge">WRITE 2</code> can be on a separate line):</p> <div class="language-plaintext code-example highlighter-rouge"><div class="highlight"><pre class="highlight"><code>*labelName:* WRITE 2
</code></pre></div></div> <h3 id="comments"> <a href="#comments" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Comments </h3> <p>RASP compiler supports one-line comments. You start them with a semicolon (<code class="language-plaintext highlighter-rouge">;</code>):</p> <div class="language-plaintext code-example highlighter-rouge"><div class="highlight"><pre class="highlight"><code>;this is a comment
</code></pre></div></div> <p>You can append a comment to an existing line, e.g.</p> <div class="language-plaintext code-example highlighter-rouge"><div class="highlight"><pre class="highlight"><code>write 2 _;comment_
</code></pre></div></div> <p>or put it on a completely new line.</p> </div> </div> <div class="search-overlay"></div> </div> </body> </html>
