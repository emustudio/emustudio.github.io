<!DOCTYPE html> <html lang="en-US"> <head> <meta charset="UTF-8"> <meta http-equiv="X-UA-Compatible" content="IE=Edge"> <title>Compiler "ramc-ram" - User documentation for emuStudio</title> <link rel="shortcut icon" href="/documentation/user/favicon.ico" type="image/x-icon"> <link rel="stylesheet" href="/documentation/user/assets/css/just-the-docs-default.css"> <script async src="https://www.googletagmanager.com/gtag/js?id=UA-3492956-5"></script> <script> window.dataLayer = window.dataLayer || []; function gtag(){dataLayer.push(arguments);} gtag('js', new Date()); gtag('config', 'UA-3492956-5', { 'anonymize_ip': true }); </script> <script src="/documentation/user/assets/js/vendor/lunr.min.js"></script> <script src="https://cdn.jsdelivr.net/npm/mermaid@9.1.6/dist/mermaid.min.js"></script> <script src="/documentation/user/assets/js/just-the-docs.js"></script> <meta name="viewport" content="width=device-width, initial-scale=1"> <!-- Begin Jekyll SEO tag v2.8.0 --> <title>Compiler “ramc-ram” | User documentation for emuStudio</title> <meta name="generator" content="Jekyll v4.3.1" /> <meta property="og:title" content="Compiler “ramc-ram”" /> <meta property="og:locale" content="en_US" /> <meta name="description" content="User documentation for emuStudio 0.40. emuStudio is universal emulation platform and framework targeting mainly academic sphere." /> <meta property="og:description" content="User documentation for emuStudio 0.40. emuStudio is universal emulation platform and framework targeting mainly academic sphere." /> <link rel="canonical" href="/documentation/user/ram/ramc-ram" /> <meta property="og:url" content="/documentation/user/ram/ramc-ram" /> <meta property="og:site_name" content="User documentation for emuStudio" /> <meta property="og:type" content="website" /> <meta name="twitter:card" content="summary" /> <meta property="twitter:title" content="Compiler “ramc-ram”" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"WebPage","description":"User documentation for emuStudio 0.40. emuStudio is universal emulation platform and framework targeting mainly academic sphere.","headline":"Compiler “ramc-ram”","publisher":{"@type":"Organization","logo":{"@type":"ImageObject","url":"/documentation/user/assets/logo-1.svg"}},"url":"/documentation/user/ram/ramc-ram"}</script> <!-- End Jekyll SEO tag --> </head> <body> <a class="skip-to-main" href="#main-content">Skip to main content</a> <svg xmlns="http://www.w3.org/2000/svg" style="display: none;"> <symbol id="svg-link" viewBox="0 0 24 24"> <title>Link</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-link"> <path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path> </svg> </symbol> <symbol id="svg-search" viewBox="0 0 24 24"> <title>Search</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-search"> <circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line> </svg> </symbol> <symbol id="svg-menu" viewBox="0 0 24 24"> <title>Menu</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-menu"> <line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line> </svg> </symbol> <symbol id="svg-arrow-right" viewBox="0 0 24 24"> <title>Expand</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-chevron-right"> <polyline points="9 18 15 12 9 6"></polyline> </svg> </symbol> <symbol id="svg-doc" viewBox="0 0 24 24"> <title>Document</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-file"> <path d="M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z"></path><polyline points="13 2 13 9 20 9"></polyline> </svg> </symbol> <!-- Feather. MIT License: https://github.com/feathericons/feather/blob/master/LICENSE --> <symbol id="svg-external-link" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-external-link"> <title id="svg-external-link-title">(external link)</title> <path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"></path><polyline points="15 3 21 3 21 9"></polyline><line x1="10" y1="14" x2="21" y2="3"></line> </symbol> </svg> <div class="side-bar"> <div class="site-header"> <a href="/documentation/user/" class="site-title lh-tight"> <div class="site-logo"></div> </a> <a href="#" id="menu-button" class="site-button"> <svg viewBox="0 0 24 24" class="icon"><use xlink:href="#svg-menu"></use></svg> </a> </div> <nav aria-label="Main" id="site-nav" class="site-nav"> <ul class="nav-list"><li class="nav-list-item"><a href="#" class="nav-list-expander" aria-label="toggle links in Introduction category"> <svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg> </a><a href="/documentation/user/introduction/" class="nav-list-link">Introduction</a><ul class="nav-list "></ul></li><li class="nav-list-item"><a href="#" class="nav-list-expander" aria-label="toggle links in emuStudio Application category"> <svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg> </a><a href="/documentation/user/application/" class="nav-list-link">emuStudio Application</a><ul class="nav-list "><li class="nav-list-item "><a href="/documentation/user/application/configuration-file" class="nav-list-link">Configuration file</a></li><li class="nav-list-item "><a href="/documentation/user/application/opening-computer" class="nav-list-link">Opening a computer</a></li><li class="nav-list-item "><a href="/documentation/user/application/computer-schema" class="nav-list-link">Computer schema</a></li><li class="nav-list-item "><a href="/documentation/user/application/main-window" class="nav-list-link">Main window</a></li><li class="nav-list-item "><a href="/documentation/user/application/automation" class="nav-list-link">Automation</a></li><li class="nav-list-item "><a href="/documentation/user/application/logging" class="nav-list-link">Logging</a></li></ul></li><li class="nav-list-item"><a href="#" class="nav-list-expander" aria-label="toggle links in MITS Altair8800 category"> <svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg> </a><a href="/documentation/user/altair8800/" class="nav-list-link">MITS Altair8800</a><ul class="nav-list "><li class="nav-list-item "><a href="/documentation/user/altair8800/as-8080" class="nav-list-link">Assembler as-8080</a></li><li class="nav-list-item "><a href="/documentation/user/altair8800/as-z80" class="nav-list-link">Assembler as-z80</a></li><li class="nav-list-item "><a href="/documentation/user/altair8800/8080-cpu" class="nav-list-link">CPU 8080-cpu</a></li><li class="nav-list-item "><a href="/documentation/user/altair8800/z80-cpu" class="nav-list-link">CPU z80-cpu</a></li><li class="nav-list-item "><a href="/documentation/user/altair8800/standard-mem" class="nav-list-link">Memory standard-mem</a></li><li class="nav-list-item "><a href="/documentation/user/altair8800/88-dcdd" class="nav-list-link">Device 88-dcdd</a></li><li class="nav-list-item "><a href="/documentation/user/altair8800/88-sio" class="nav-list-link">Device 88-sio</a></li><li class="nav-list-item "><a href="/documentation/user/altair8800/adm3a-terminal" class="nav-list-link">Device adm3a-terminal</a></li><li class="nav-list-item "><a href="/documentation/user/altair8800/simhPseudo-z80" class="nav-list-link">Device simhPseudo-z80</a></li><li class="nav-list-item "><a href="/documentation/user/altair8800/automation" class="nav-list-link">Automation</a></li><li class="nav-list-item "><a href="/documentation/user/altair8800/software" class="nav-list-link">Original software</a></li></ul></li><li class="nav-list-item"><a href="#" class="nav-list-expander" aria-label="toggle links in BrainDuck category"> <svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg> </a><a href="/documentation/user/brainduck/" class="nav-list-link">BrainDuck</a><ul class="nav-list "><li class="nav-list-item "><a href="/documentation/user/brainduck/compiler" class="nav-list-link">Compiler "brainc-brainduck"</a></li><li class="nav-list-item "><a href="/documentation/user/brainduck/cpu" class="nav-list-link">CPU "brainduck-cpu"</a></li><li class="nav-list-item "><a href="/documentation/user/brainduck/terminal" class="nav-list-link">Terminal "brainduck-terminal"</a></li><li class="nav-list-item "><a href="/documentation/user/brainduck/automation" class="nav-list-link">Automation</a></li><li class="nav-list-item "><a href="/documentation/user/brainduck/examples" class="nav-list-link">Example code</a></li></ul></li><li class="nav-list-item active"><a href="#" class="nav-list-expander" aria-label="toggle links in RAM category"> <svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg> </a><a href="/documentation/user/ram/" class="nav-list-link">RAM</a><ul class="nav-list "><li class="nav-list-item active"><a href="/documentation/user/ram/ramc-ram" class="nav-list-link active">Compiler "ramc-ram"</a></li><li class="nav-list-item "><a href="/documentation/user/ram/ram-cpu" class="nav-list-link">CPU "ram-cpu"</a></li><li class="nav-list-item "><a href="/documentation/user/ram/ram-mem" class="nav-list-link">Memory "ram-mem"</a></li><li class="nav-list-item "><a href="/documentation/user/ram/abstract-tape" class="nav-list-link">Abstract tape</a></li><li class="nav-list-item "><a href="/documentation/user/ram/automation" class="nav-list-link">Automation</a></li></ul></li><li class="nav-list-item"><a href="#" class="nav-list-expander" aria-label="toggle links in RASP category"> <svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg> </a><a href="/documentation/user/rasp/" class="nav-list-link">RASP</a><ul class="nav-list "><li class="nav-list-item "><a href="/documentation/user/rasp/raspc-rasp" class="nav-list-link">Compiler "raspc-rasp"</a></li><li class="nav-list-item "><a href="/documentation/user/rasp/rasp-cpu" class="nav-list-link">CPU "rasp-cpu"</a></li><li class="nav-list-item "><a href="/documentation/user/rasp/rasp-mem" class="nav-list-link">Memory "rasp-mem"</a></li><li class="nav-list-item "><a href="/documentation/user/rasp/automation" class="nav-list-link">Automation</a></li></ul></li><li class="nav-list-item"><a href="#" class="nav-list-expander" aria-label="toggle links in SSEM category"> <svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg> </a><a href="/documentation/user/ssem/" class="nav-list-link">SSEM</a><ul class="nav-list "><li class="nav-list-item "><a href="/documentation/user/ssem/as-ssem" class="nav-list-link">Assembler "as-ssem"</a></li><li class="nav-list-item "><a href="/documentation/user/ssem/ssem-cpu" class="nav-list-link">CPU "ssem-cpu"</a></li><li class="nav-list-item "><a href="/documentation/user/ssem/ssem-mem" class="nav-list-link">Memory "ssem-mem"</a></li><li class="nav-list-item "><a href="/documentation/user/ssem/ssem-display" class="nav-list-link">Display "ssem-display"</a></li><li class="nav-list-item "><a href="/documentation/user/ssem/automation" class="nav-list-link">Automation</a></li><li class="nav-list-item "><a href="/documentation/user/ssem/software" class="nav-list-link">Software for SSEM</a></li></ul></li></ul> </nav> <footer class="site-footer"> This site uses <a href="https://github.com/just-the-docs/just-the-docs">Just the Docs</a>, a documentation theme for Jekyll. </footer> </div> <div class="main" id="top"> <div id="main-header" class="main-header"> <div class="search"> <div class="search-input-wrap"> <input type="text" id="search-input" class="search-input" tabindex="0" placeholder="Search User documentation for emuStudio" aria-label="Search User documentation for emuStudio" autocomplete="off"> <label for="search-input" class="search-label"><svg viewBox="0 0 24 24" class="search-icon"><use xlink:href="#svg-search"></use></svg></label> </div> <div id="search-results" class="search-results"></div> </div> <nav aria-label="Auxiliary" class="aux-nav"> <ul class="aux-nav-list"> <li class="aux-nav-list-item"> <a href="/" class="site-button" > Back to website </a> </li> </ul> </nav> </div> <div id="main-content-wrap" class="main-content-wrap"> <nav aria-label="Breadcrumb" class="breadcrumb-nav"> <ol class="breadcrumb-nav-list"> <li class="breadcrumb-nav-list-item"><a href="/documentation/user/ram/">RAM</a></li> <li class="breadcrumb-nav-list-item"><span>Compiler "ramc-ram"</span></li> </ol> </nav> <div id="main-content" class="main-content" role="main"> <script type="text/javascript"> gtag('event', 'userdoc', { 'event_category': 'RAM', 'event_label': 'Compiler "ramc-ram"' }); </script> <h1 id="compiler-ramc-ram"> <a href="#compiler-ramc-ram" class="anchor-heading" aria-labelledby="compiler-ramc-ram"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Compiler “ramc-ram” </h1> <p>RAM has a very simple assembler-like language, consisting of direct and indirect reading/writing from/to registers or input/output tape. Also, there are three control-flow instructions.</p> <h2 id="language-syntax"> <a href="#language-syntax" class="anchor-heading" aria-labelledby="language-syntax"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Language syntax </h2> <p>The program written for this compiler consists of two sections:</p> <div class="language-plaintext code-example highlighter-rouge"><div class="highlight"><pre class="highlight"><code>INPUT section
INSTRUCTIONS section
</code></pre></div></div> <h3 id="input-section"> <a href="#input-section" class="anchor-heading" aria-labelledby="input-section"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Input section </h3> <p>The <code class="language-plaintext highlighter-rouge">INPUT</code> section contains definitions the content of input tape - one or more lines in the form:</p> <div class="language-plaintext code-example highlighter-rouge"><div class="highlight"><pre class="highlight"><code>&lt;input&gt; ITEMS
</code></pre></div></div> <p>where <code class="language-plaintext highlighter-rouge">ITEMS</code> is a space-separated list of inputs. Each input is one word - it might be any number or string. By default, every cell in the input tape is a string, and it is not interpreted as some data type. It is only in a time when it is used - the instruction which works with the cell defines of which “type” it should be.</p> <p>For example, the input section might be:</p> <div class="language-plaintext code-example highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    &lt;input&gt; 1 2 3 hello world!
</code></pre></div></div> <p>In this case, there are five inputs: numbers 1,2,3, then word “hello” and the last one is “world!”.</p> <h3 id="instructions-section"> <a href="#instructions-section" class="anchor-heading" aria-labelledby="instructions-section"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Instructions section </h3> <p>There exist many possible formats or variations of RAM instructions, unfortunately, the syntax is not very unified. I guess the reason is that RAM is not a real machine, and for the purposes of the algorithm analysis the machine is so simple that it’s description is repeated in almost every paper where it appears.</p> <p>For this reason, the instructions format or the whole vocabulary might be different from what you expected or used for. We have to live with it, but the differences are tiny.</p> <p>Instructions should follow the Input section, but the sections can be mixed. It is just good practice to have input separated from the code. Each instruction must be on a separate line, in the form:</p> <div class="language-plaintext code-example highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    [LABEL:] INSTRUCTION [; optional comment]
</code></pre></div></div> <p>Each instruction position can be optionally labeled with some identifier (<code class="language-plaintext highlighter-rouge">LABEL</code> field), followed by a colon (<code class="language-plaintext highlighter-rouge">:</code>) character. The labels can be then referred to in other instructions.</p> <p>Comments begin with a semicolon (<code class="language-plaintext highlighter-rouge">;</code>) character and continue to the end of the line. There are no multi-line comments.</p> <p>Instructions consist of the operation code and optional operand, separated with space (<code class="language-plaintext highlighter-rouge"> </code>).</p> <p>Operation code is expressed as an abbreviation of corresponding operation (e.g. <code class="language-plaintext highlighter-rouge">SUB</code> for SUBtraction). An operand can be one of three types: constant (<code class="language-plaintext highlighter-rouge">=i</code>), direct operand (<code class="language-plaintext highlighter-rouge">i</code>), where <code class="language-plaintext highlighter-rouge">i</code> specifies the register index on tape and indirect operand (<code class="language-plaintext highlighter-rouge">*i</code>), where the address of operand specified is stored in register <em>R~i~</em>.</p> <p>The following table describes all possible instructions, usable in the RAM simulator:</p> <div class="table-wrapper"><table> <thead> <tr> <th>Instruction</th> <th>Constant (<code class="language-plaintext highlighter-rouge">=i</code>)</th> <th>Direct (<code class="language-plaintext highlighter-rouge">i</code>)</th> <th>Indirect (<code class="language-plaintext highlighter-rouge">*i</code>)</th> </tr> </thead> <tbody> <tr> <td><code class="language-plaintext highlighter-rouge">READ</code></td> <td> </td> <td><em>R~i~</em> &lt;- next input</td> <td> </td> </tr> <tr> <td><code class="language-plaintext highlighter-rouge">WRITE</code></td> <td>output &lt;- <em>i</em></td> <td>output &lt;- <em>R~i~</em></td> <td>output &lt;- <em>M&lt;R~i~&gt;</em></td> </tr> <tr> <td><code class="language-plaintext highlighter-rouge">LOAD</code></td> <td><em>R~0~</em> &lt;- <em>i</em></td> <td><em>R~0~</em> &lt;- <em>R~i~</em></td> <td><em>R~0~</em> &lt;- <em>M&lt;R~i~&gt;</em></td> </tr> <tr> <td><code class="language-plaintext highlighter-rouge">STORE</code></td> <td> </td> <td><em>R~i~</em> &lt;- <em>R~0~</em></td> <td><em>M&lt;R~i~&gt;</em> &lt;- <em>R~0~</em></td> </tr> </tbody> <tbody> <tr> <td><code class="language-plaintext highlighter-rouge">ADD</code></td> <td><em>R~0~</em> &lt;- <em>R~0~</em> + <em>i</em></td> <td><em>R~0~</em> &lt;- <em>R~0~</em> + <em>R~i~</em></td> <td><em>R~0~</em> &lt;- <em>R~0~</em> + <em>M&lt;R~i~&gt;</em></td> </tr> <tr> <td><code class="language-plaintext highlighter-rouge">SUB</code></td> <td><em>R~0~</em> &lt;- <em>R~0~</em> - <em>i</em></td> <td><em>R~0~</em> &lt;- <em>R~0~</em> - <em>R~i~</em></td> <td><em>R~0~</em> &lt;- <em>R~0~</em> - <em>M&lt;R~i~&gt;</em></td> </tr> <tr> <td><code class="language-plaintext highlighter-rouge">MUL</code></td> <td><em>R~0~</em> &lt;- <em>R~0~</em> * <em>i</em></td> <td><em>R~0~</em> &lt;- <em>R~0~</em> * <em>R~i~</em></td> <td><em>R~0~</em> &lt;- <em>R~0~</em> * <em>M&lt;R~i~&gt;</em></td> </tr> <tr> <td><code class="language-plaintext highlighter-rouge">DIV</code></td> <td><em>R~0~</em> &lt;- <em>R~0~</em> / <em>i</em></td> <td><em>R~0~</em> &lt;- <em>R~0~</em> / <em>R~i~</em></td> <td><em>R~0~</em> &lt;- <em>R~0~</em> / <em>M&lt;R~i~&gt;</em></td> </tr> </tbody> <tbody> <tr> <td><code class="language-plaintext highlighter-rouge">JMP</code></td> <td> </td> <td><em>IP</em> &lt;- <em>i</em></td> <td> </td> </tr> <tr> <td><code class="language-plaintext highlighter-rouge">JZ</code></td> <td> </td> <td><em>if</em> <em>R~0~</em> == 0 <em>then</em> <em>IP</em> &lt;- <em>i</em></td> <td> </td> </tr> <tr> <td><code class="language-plaintext highlighter-rouge">JGTZ</code></td> <td> </td> <td><em>if</em> <em>R~0~</em> &gt; 0 <em>then</em> <em>IP</em> &lt;- <em>i</em></td> <td> </td> </tr> </tbody> <tbody> <tr> <td><code class="language-plaintext highlighter-rouge">HALT</code></td> <td> </td> <td>halts the simulation</td> <td> </td> </tr> </tbody> </table></div> <p>The table describes also the behavior of each instruction. The compiler does not care about the behavior, but about the syntax of the instructions, which is also incorporated in the table.</p> <p>For example, this is a valid program:</p> <div class="language-plaintext code-example highlighter-rouge"><div class="highlight"><pre class="highlight"><code>; COPY(X,Y)
;
; input:  X -&gt; r1
;         Y -&gt; r2
;
; output: X -&gt; Y
;         Y -&gt; Y

&lt;input&gt; 3 4 world hello

&lt;input&gt; sss
; load X,Y
read 1
read 2

; load r.X, r.Y
read *1
read *2

; copy
load *2
store *1

halt
</code></pre></div></div> </div> </div> <div class="search-overlay"></div> </div> <script> var config = {} ; mermaid.initialize(config); window.mermaid.init(undefined, document.querySelectorAll('.language-mermaid')); </script> </body> </html>
