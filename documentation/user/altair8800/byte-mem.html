<!DOCTYPE html> <html lang="en-US"> <head> <meta charset="UTF-8"> <meta http-equiv="X-UA-Compatible" content="IE=Edge"> <title>Memory "byte-mem" - User documentation for emuStudio</title> <link rel="shortcut icon" href="/documentation/user/favicon.ico" type="image/x-icon"> <link rel="stylesheet" href="/documentation/user/assets/css/just-the-docs-default.css"> <script async src="https://www.googletagmanager.com/gtag/js?id=UA-3492956-5"></script> <script> window.dataLayer = window.dataLayer || []; function gtag(){dataLayer.push(arguments);} gtag('js', new Date()); gtag('config', 'UA-3492956-5', { 'anonymize_ip': true }); </script> <script src="/documentation/user/assets/js/vendor/lunr.min.js"></script> <script src="https://cdn.jsdelivr.net/npm/mermaid@9.1.6/dist/mermaid.min.js"></script> <script src="/documentation/user/assets/js/just-the-docs.js"></script> <meta name="viewport" content="width=device-width, initial-scale=1"> <!-- Begin Jekyll SEO tag v2.8.0 --> <title>Memory “byte-mem” | User documentation for emuStudio</title> <meta name="generator" content="Jekyll v4.3.1" /> <meta property="og:title" content="Memory “byte-mem”" /> <meta property="og:locale" content="en_US" /> <meta name="description" content="User documentation for emuStudio 0.41. emuStudio is universal emulation platform and framework targeting mainly academic sphere." /> <meta property="og:description" content="User documentation for emuStudio 0.41. emuStudio is universal emulation platform and framework targeting mainly academic sphere." /> <link rel="canonical" href="/documentation/user/altair8800/byte-mem" /> <meta property="og:url" content="/documentation/user/altair8800/byte-mem" /> <meta property="og:site_name" content="User documentation for emuStudio" /> <meta property="og:type" content="website" /> <meta name="twitter:card" content="summary" /> <meta property="twitter:title" content="Memory “byte-mem”" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"WebPage","description":"User documentation for emuStudio 0.41. emuStudio is universal emulation platform and framework targeting mainly academic sphere.","headline":"Memory “byte-mem”","publisher":{"@type":"Organization","logo":{"@type":"ImageObject","url":"/documentation/user/assets/logo-1.svg"}},"url":"/documentation/user/altair8800/byte-mem"}</script> <!-- End Jekyll SEO tag --> </head> <body> <a class="skip-to-main" href="#main-content">Skip to main content</a> <svg xmlns="http://www.w3.org/2000/svg" style="display: none;"> <symbol id="svg-link" viewBox="0 0 24 24"> <title>Link</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-link"> <path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path> </svg> </symbol> <symbol id="svg-search" viewBox="0 0 24 24"> <title>Search</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-search"> <circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line> </svg> </symbol> <symbol id="svg-menu" viewBox="0 0 24 24"> <title>Menu</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-menu"> <line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line> </svg> </symbol> <symbol id="svg-arrow-right" viewBox="0 0 24 24"> <title>Expand</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-chevron-right"> <polyline points="9 18 15 12 9 6"></polyline> </svg> </symbol> <symbol id="svg-doc" viewBox="0 0 24 24"> <title>Document</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-file"> <path d="M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z"></path><polyline points="13 2 13 9 20 9"></polyline> </svg> </symbol> <!-- Feather. MIT License: https://github.com/feathericons/feather/blob/master/LICENSE --> <symbol id="svg-external-link" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-external-link"> <title id="svg-external-link-title">(external link)</title> <path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"></path><polyline points="15 3 21 3 21 9"></polyline><line x1="10" y1="14" x2="21" y2="3"></line> </symbol> </svg> <div class="side-bar"> <div class="site-header"> <a href="/documentation/user/" class="site-title lh-tight"> <div class="site-logo"></div> </a> <a href="#" id="menu-button" class="site-button"> <svg viewBox="0 0 24 24" class="icon"><use xlink:href="#svg-menu"></use></svg> </a> </div> <nav aria-label="Main" id="site-nav" class="site-nav"> <ul class="nav-list"><li class="nav-list-item"><a href="/documentation/user/introduction/" class="nav-list-link">Introduction</a></li><li class="nav-list-item"><a href="#" class="nav-list-expander" aria-label="toggle links in emuStudio Application category"> <svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg> </a><a href="/documentation/user/application/" class="nav-list-link">emuStudio Application</a><ul class="nav-list "><li class="nav-list-item "><a href="/documentation/user/application/configuration-file" class="nav-list-link">Configuration file</a></li><li class="nav-list-item "><a href="/documentation/user/application/opening-computer" class="nav-list-link">Opening a computer</a></li><li class="nav-list-item "><a href="/documentation/user/application/computer-schema" class="nav-list-link">Computer schema</a></li><li class="nav-list-item "><a href="/documentation/user/application/main-window" class="nav-list-link">Main window</a></li><li class="nav-list-item "><a href="/documentation/user/application/automation" class="nav-list-link">Automation</a></li><li class="nav-list-item "><a href="/documentation/user/application/logging" class="nav-list-link">Logging</a></li></ul></li><li class="nav-list-item active"><a href="#" class="nav-list-expander" aria-label="toggle links in MITS Altair8800 category"> <svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg> </a><a href="/documentation/user/altair8800/" class="nav-list-link">MITS Altair8800</a><ul class="nav-list "><li class="nav-list-item "><a href="/documentation/user/altair8800/as-8080" class="nav-list-link">Assembler "as-8080"</a></li><li class="nav-list-item "><a href="/documentation/user/altair8800/as-z80" class="nav-list-link">Assembler "as-z80"</a></li><li class="nav-list-item "><a href="/documentation/user/altair8800/8080-cpu" class="nav-list-link">CPU "8080-cpu"</a></li><li class="nav-list-item "><a href="/documentation/user/altair8800/z80-cpu" class="nav-list-link">CPU "z80-cpu"</a></li><li class="nav-list-item active"><a href="/documentation/user/altair8800/byte-mem" class="nav-list-link active">Memory "byte-mem"</a></li><li class="nav-list-item "><a href="/documentation/user/altair8800/88-dcdd" class="nav-list-link">Device "88-dcdd"</a></li><li class="nav-list-item "><a href="/documentation/user/altair8800/88-sio" class="nav-list-link">Device "88-sio"</a></li><li class="nav-list-item "><a href="/documentation/user/altair8800/adm3a-terminal" class="nav-list-link">Device "adm3a-terminal"</a></li><li class="nav-list-item "><a href="/documentation/user/altair8800/simh-pseudo" class="nav-list-link">Device "simh-pseudo"</a></li><li class="nav-list-item "><a href="/documentation/user/altair8800/software" class="nav-list-link">Original software</a></li><li class="nav-list-item "><a href="/documentation/user/altair8800/automation" class="nav-list-link">Automation</a></li></ul></li><li class="nav-list-item"><a href="#" class="nav-list-expander" aria-label="toggle links in BrainDuck category"> <svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg> </a><a href="/documentation/user/brainduck/" class="nav-list-link">BrainDuck</a><ul class="nav-list "><li class="nav-list-item "><a href="/documentation/user/brainduck/compiler" class="nav-list-link">Compiler "brainc-brainduck"</a></li><li class="nav-list-item "><a href="/documentation/user/brainduck/cpu" class="nav-list-link">CPU "brainduck-cpu"</a></li><li class="nav-list-item "><a href="/documentation/user/brainduck/terminal" class="nav-list-link">Terminal "vt100-terminal"</a></li><li class="nav-list-item "><a href="/documentation/user/brainduck/examples" class="nav-list-link">Example code</a></li><li class="nav-list-item "><a href="/documentation/user/brainduck/automation" class="nav-list-link">Automation</a></li></ul></li><li class="nav-list-item"><a href="#" class="nav-list-expander" aria-label="toggle links in RAM category"> <svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg> </a><a href="/documentation/user/ram/" class="nav-list-link">RAM</a><ul class="nav-list "><li class="nav-list-item "><a href="/documentation/user/ram/ramc-ram" class="nav-list-link">Compiler "ramc-ram"</a></li><li class="nav-list-item "><a href="/documentation/user/ram/ram-cpu" class="nav-list-link">CPU "ram-cpu"</a></li><li class="nav-list-item "><a href="/documentation/user/ram/ram-mem" class="nav-list-link">Memory "ram-mem"</a></li><li class="nav-list-item "><a href="/documentation/user/ram/abstract-tape" class="nav-list-link">Abstract tape</a></li><li class="nav-list-item "><a href="/documentation/user/ram/automation" class="nav-list-link">Automation</a></li></ul></li><li class="nav-list-item"><a href="#" class="nav-list-expander" aria-label="toggle links in RASP category"> <svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg> </a><a href="/documentation/user/rasp/" class="nav-list-link">RASP</a><ul class="nav-list "><li class="nav-list-item "><a href="/documentation/user/rasp/raspc-rasp" class="nav-list-link">Compiler "raspc-rasp"</a></li><li class="nav-list-item "><a href="/documentation/user/rasp/rasp-cpu" class="nav-list-link">CPU "rasp-cpu"</a></li><li class="nav-list-item "><a href="/documentation/user/rasp/rasp-mem" class="nav-list-link">Memory "rasp-mem"</a></li><li class="nav-list-item "><a href="/documentation/user/rasp/automation" class="nav-list-link">Automation</a></li></ul></li><li class="nav-list-item"><a href="#" class="nav-list-expander" aria-label="toggle links in SSEM category"> <svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg> </a><a href="/documentation/user/ssem/" class="nav-list-link">SSEM</a><ul class="nav-list "><li class="nav-list-item "><a href="/documentation/user/ssem/as-ssem" class="nav-list-link">Assembler "as-ssem"</a></li><li class="nav-list-item "><a href="/documentation/user/ssem/ssem-cpu" class="nav-list-link">CPU "ssem-cpu"</a></li><li class="nav-list-item "><a href="/documentation/user/ssem/ssem-mem" class="nav-list-link">Memory "ssem-mem"</a></li><li class="nav-list-item "><a href="/documentation/user/ssem/ssem-display" class="nav-list-link">Display "ssem-display"</a></li><li class="nav-list-item "><a href="/documentation/user/ssem/software" class="nav-list-link">Software for SSEM</a></li><li class="nav-list-item "><a href="/documentation/user/ssem/automation" class="nav-list-link">Automation</a></li></ul></li></ul> </nav> <footer class="site-footer"> This site uses <a href="https://github.com/just-the-docs/just-the-docs">Just the Docs</a>, a documentation theme for Jekyll. </footer> </div> <div class="main" id="top"> <div id="main-header" class="main-header"> <div class="search"> <div class="search-input-wrap"> <input type="text" id="search-input" class="search-input" tabindex="0" placeholder="Search User documentation for emuStudio" aria-label="Search User documentation for emuStudio" autocomplete="off"> <label for="search-input" class="search-label"><svg viewBox="0 0 24 24" class="search-icon"><use xlink:href="#svg-search"></use></svg></label> </div> <div id="search-results" class="search-results"></div> </div> <nav aria-label="Auxiliary" class="aux-nav"> <ul class="aux-nav-list"> <li class="aux-nav-list-item"> <a href="/" class="site-button" > Back to website </a> </li> </ul> </nav> </div> <div id="main-content-wrap" class="main-content-wrap"> <nav aria-label="Breadcrumb" class="breadcrumb-nav"> <ol class="breadcrumb-nav-list"> <li class="breadcrumb-nav-list-item"><a href="/documentation/user/altair8800/">MITS Altair8800</a></li> <li class="breadcrumb-nav-list-item"><span>Memory "byte-mem"</span></li> </ol> </nav> <div id="main-content" class="main-content" role="main"> <script type="text/javascript"> gtag('event', 'userdoc', { 'event_category': 'Altair8800', 'event_label': 'Memory "byte-mem"' }); </script> <h1 id="operating-memory-byte-mem"> <a href="#operating-memory-byte-mem" class="anchor-heading" aria-labelledby="operating-memory-byte-mem"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Operating memory “byte-mem” </h1> <p>This plugin emulates an operating memory with various features. It can be used for any virtual computer which can benefit from the following basic properties:</p> <ul> <li>A memory cell has a size of 1 byte (8 bits)</li> <li>Memory cells are linearly ordered (sequential)</li> <li>Each memory cell is accessible by a unique address, representing the index of the memory cell if the memory is imagined as an array of cells</li> </ul> <p>Besides, the memory supports these additional features:</p> <ul> <li>Setting up ROM (read-only memory) ranges</li> <li>Changing memory size; by default it is 64kB</li> <li>Support of bank switching</li> </ul> <p>There are also some “interactive” features:</p> <ul> <li>Manual loading/saving memory images in either binary or Intel HEX format</li> <li>Ability to automatically load a memory image at startup</li> <li>Intuitive control using keystrokes, and nice visual presentation of the data</li> </ul> <p>This operating memory is (for now) used only in an 8-bit emulator of MITS Altair8800. However, it is possible to develop an emulator that can benefit from it.</p> <h2 id="gui-overview"> <a href="#gui-overview" class="anchor-heading" aria-labelledby="gui-overview"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> GUI overview </h2> <p>To open the memory GUI (graphical user interface), click at the right-most icon in the debug toolbar, on the Emulator panel. The window is shown, as in the following image:</p> <p><img src="/documentation/user/assets/altair8800/byte-mem.png" alt="Byte operating memory" /></p> <div class="table-wrapper"><table class="list"> <tbody> <tr> <td><span class="circle">1</span></td> <td>Open a memory image. Current memory content which does not overlap with the loaded data will be kept.</td> </tr> <tr> <td><span class="circle">2</span></td> <td>Dump (save) whole memory content into a file.</td> </tr> <tr> <td><span class="circle">3</span></td> <td>Go to address. The address can be either in decimal, hexadecimal (prefix <code class="language-plaintext highlighter-rouge">0x</code>) or octal (prefix <code class="language-plaintext highlighter-rouge">0</code>) format.</td> </tr> <tr> <td><span class="circle">4</span></td> <td>Find a sequence. A dialog shows up where user can find either a plain text or sequence of bytes in the memory.</td> </tr> <tr> <td><span class="circle">5</span></td> <td>Toggle ASCII mode (ASCII mode means to render characters instead of character codes)</td> </tr> <tr> <td><span class="circle">6</span></td> <td>Erases all memory content.</td> </tr> <tr> <td><span class="circle">7</span></td> <td>Shows memory settings</td> </tr> <tr> <td><span class="circle">8</span></td> <td>By double-clicking on a memory cell it is possible to edit it and change its value. The value can be either in decimal, hexadecimal (prefix <code class="language-plaintext highlighter-rouge">0x</code>) or octal (prefix <code class="language-plaintext highlighter-rouge">0</code>) format.</td> </tr> <tr> <td><span class="circle">9</span></td> <td>Page of the memory view. The whole memory cannot be shown in single window, because it can be quite large, so it is split into pages. This split is just visual.</td> </tr> <tr> <td><span class="circle">10</span></td> <td>If the memory has set up <a href="/documentation/user/altair8800/byte-mem#memory-bank-switching">memory banks</a>, it is possible to change the view to different bank. Switching in here has no effect on the emulator and on the active bank.</td> </tr> <tr> <td><span class="circle">11</span></td> <td>Displays the data of the selected cell in various formats.</td> </tr> </tbody> </table></div> <p>Generally, it is possible to move around the cells using keystrokes (arrows). If the user presses some other letter/number key, a small text field appears allowing to edit the current value. When editing is finished, the user can press <kbd>ENTER</kbd> key to confirm it, or <kbd>ESC</kbd> key to discard the editing.</p> <h2 id="memory-settings"> <a href="#memory-settings" class="anchor-heading" aria-labelledby="memory-settings"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Memory settings </h2> <p>Settings window can be opened by clicking on “settings” icon in the main GUI window:</p> <p><img src="/documentation/user/assets/altair8800/byte-mem-settings.png" alt="Memory settings" /></p> <div class="table-wrapper"><table class="list"> <tbody> <tr> <td><span class="circle">1</span></td> <td>Settings for memory bank-switching</td> </tr> <tr> <td><span class="circle">2</span></td> <td>Settings for ROM areas</td> </tr> <tr> <td><span class="circle">3</span></td> <td>If checked, settings for ROM areas will be saved to the configuration file</td> </tr> <tr> <td><span class="circle">4</span></td> <td>List of memory images which will be loaded at startup</td> </tr> <tr> <td><span class="circle">5</span></td> <td>The button will save and apply the settings</td> </tr> </tbody> </table></div> <h3 id="rom-areas"> <a href="#rom-areas" class="anchor-heading" aria-labelledby="rom-areas"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> ROM areas </h3> <p>Some computers or modern “controllers” organize memory into logical areas, some of which could be physically mapped to a read-only memory loaded with a firmware, or a game (e.g. in a “cartridge”). These memories are wired to specific addresses, so the programmer can access them as if they were part of operating memory.</p> <p>The byte-mem plugin emulates this behavior. It allows to define ROM areas that represent read-only memory. There can be set up multiple ROM areas, and they can overlap. Effectively it means that memory cells in the ROM area cannot be changed from software running on the emulator. All writes to the memory will be ignored.</p> <p>Manually, as a user, it is possible to change the values, but only by loading a new memory image. Editing a value will not work.</p> <p>If a ROM range is defined, it is possible to “remove” only a part of it, effectively splitting the range and correcting their boundaries. For example, if there is defined a ROM range from <code class="language-plaintext highlighter-rouge">0x0A - 0x64</code>, then it is possible to remove a range e.g. <code class="language-plaintext highlighter-rouge">0x32 - 0x46</code>, which is the part of defined ROM area. Then, the original ROM area is split into two parts - first will be a range from <code class="language-plaintext highlighter-rouge">0x0A - 0x31</code>, and the second from <code class="language-plaintext highlighter-rouge">0x47 - 0x64</code>.</p> <h3 id="memory-bank-switching"> <a href="#memory-bank-switching" class="anchor-heading" aria-labelledby="memory-bank-switching"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Memory bank-switching </h3> <p>This technique was invented as a workaround for a problem when the address space of a processor was smaller than memory size. To overcome this issue, memory was logically split into many regions of size equal to the processor address space. These regions are called “banks”.</p> <p>Physically, banks could refer to the same memory, but they could be also different storages (e.g. external cartridges), and the bank-switching involved switching the active memory.</p> <p>Selecting a bank from a programming perspective was usually done by writing some code to some I/O port using some I/O instruction of a CPU (controlled by a specialized chip). But it can be implemented in various ways, e.g. some memory addresses can be used for selecting a bank.</p> <p>Also, it was very common that some part of the address space still kept some common memory part which was never switched out. This part is called a “common” part. In emuStudio, common part starts with the <code class="language-plaintext highlighter-rouge">Common</code> address (as it can be seen in the Settings dialog image above) and ends till the rest of the CPU address space (or memory end).</p> <p>To summarize, let’s consider an example. If a CPU is 8-bit, it means it has address space of size 2^8 - i.e. it can access memory from address 0 to (2^8 - 1). If the memory was larger, CPU just doesn’t allow to access higher memory cells. So memory bank-switching is coming for the rescue. If the memory has 2 MB, we require <code class="language-plaintext highlighter-rouge">2^log2(2MB) = 2^21</code> addresses. So, if we won’t have any common address space, we require <code class="language-plaintext highlighter-rouge">ceil(21 / 8) = 3</code> banks:</p> <ul> <li>bank 0: maps from 0 - (2^8 - 1)</li> <li>bank 1: maps from 2^8 - (2^16 - 1)</li> <li>bank 2: maps from 2^16 - (2^21 - 1)</li> </ul> <h2 id="configuration-file"> <a href="#configuration-file" class="anchor-heading" aria-labelledby="configuration-file"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Configuration file </h2> <p>The following table shows all the possible settings of byte-mem plugin:</p> <div class="table-wrapper"><table> <thead> <tr> <th>Name</th> <th>Default value</th> <th>Valid values</th> <th>Description</th> </tr> </thead> <tbody> <tr> <td><code class="language-plaintext highlighter-rouge">banksCount</code></td> <td>0</td> <td>&gt;= 0</td> <td>Number of memory banks</td> </tr> <tr> <td><code class="language-plaintext highlighter-rouge">commonBoundary</code></td> <td>0</td> <td>&gt;= 0 and &lt; mem size</td> <td>Address from which the banks are shared</td> </tr> <tr> <td><code class="language-plaintext highlighter-rouge">memorySize</code></td> <td>65536</td> <td>&gt; 0</td> <td>Memory size in bytes</td> </tr> <tr> <td><code class="language-plaintext highlighter-rouge">ROMfrom</code>(i)</td> <td>N/A</td> <td>&gt;= 0 and &lt; mem size</td> <td>Start of the i-th ROM area</td> </tr> <tr> <td><code class="language-plaintext highlighter-rouge">ROMto</code>(i)</td> <td>N/A</td> <td>&gt;= <code class="language-plaintext highlighter-rouge">ROMfrom</code>(i) and &lt; mem size</td> <td>End of the i-th ROM area</td> </tr> <tr> <td><code class="language-plaintext highlighter-rouge">imageName</code>(i)</td> <td>N/A</td> <td>file path</td> <td>The i-th memory image file name. If it ends with <code class="language-plaintext highlighter-rouge">.hex</code> suffix, it will be loaded as Intel HEX format, otherwise as binary</td> </tr> <tr> <td><code class="language-plaintext highlighter-rouge">imageAddress</code>(i)</td> <td>N/A</td> <td>&gt;= 0 and &lt; mem size</td> <td>The i-th memory image load address</td> </tr> </tbody> </table></div> <h2 id="using-memory-in-custom-computers"> <a href="#using-memory-in-custom-computers" class="anchor-heading" aria-labelledby="using-memory-in-custom-computers"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Using memory in custom computers </h2> <p>This section is for developers of emulators. If you do not plan to create custom virtual computers, you can safely skip this section. To get started with developing plugins for emuStudio, please read <a href="/documentation/developer/introduction/" target="_blank">developer documentation</a>.</p> <p>As it was mentioned in the earlier sections, the byte-mem plugin can be used in other computers, too. Besides standard operations which are provided by <code class="language-plaintext highlighter-rouge">net.emustudio.emulib.plugins.memory.MemoryContext</code> interface, it provides custom context API, enabling to use more features - e.g. bank-switching.</p> <p>You can obtain the context in <a href="/documentation/developer/emulib_javadoc/net/emustudio/emulib/plugins/Plugin.html#initialize()" target="_blank">Plugin.initialize()</a> method. The context is named <code class="language-plaintext highlighter-rouge">net.emustudio.plugins.memory.bytemem.api.ByteMemoryContext</code>:</p> <div class="language-java code-example highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="o">...</span>

<span class="kd">public</span> <span class="kt">void</span> <span class="nf">initialize</span><span class="o">(</span><span class="nc">SettingsManager</span> <span class="n">settings</span><span class="o">){</span>
        <span class="nc">ByteMemoryContext</span> <span class="n">mem</span><span class="o">=</span><span class="n">contextPoolImpl</span><span class="o">.</span><span class="na">getMemoryContext</span><span class="o">(</span><span class="n">pluginID</span><span class="o">,</span><span class="nc">ByteMemoryContext</span><span class="o">.</span><span class="na">class</span><span class="o">);</span>
        <span class="o">...</span>
        <span class="o">}</span>
</code></pre></div></div> <p>The memory context has the following content:</p> <div class="language-java code-example highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">package</span> <span class="nn">net.emustudio.plugins.memory.bytemem.api</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">net.emustudio.emulib.plugins.annotations.PluginContext</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">net.emustudio.emulib.plugins.memory.MemoryContext</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">java.util.List</span><span class="o">;</span>

<span class="cm">/**
 * "Byte" memory context.
 * &lt;p&gt;
 * Supports bank switching, ROM ranges, and loading HEX/BIN files.
 */</span>
<span class="nd">@SuppressWarnings</span><span class="o">(</span><span class="s">"unused"</span><span class="o">)</span>
<span class="nd">@PluginContext</span><span class="o">(</span><span class="n">id</span> <span class="o">=</span> <span class="s">"Byte memory"</span><span class="o">)</span>
<span class="kd">public</span> <span class="kd">interface</span> <span class="nc">ByteMemoryContext</span> <span class="kd">extends</span> <span class="nc">MemoryContext</span><span class="o">&lt;</span><span class="nc">Byte</span><span class="o">&gt;</span> <span class="o">{</span>

    <span class="cm">/**
     * Determine whether specified memory position is read-only.
     *
     * @param address memory position
     * @return true if the memory position is read only, false otherwise
     */</span>
    <span class="kt">boolean</span> <span class="nf">isReadOnly</span><span class="o">(</span><span class="kt">int</span> <span class="n">address</span><span class="o">);</span>

    <span class="cm">/**
     * Get list of ranges of read-only addresses.
     *
     * @return list of ROM memory addresses
     */</span>
    <span class="nc">List</span><span class="o">&lt;?</span> <span class="kd">extends</span> <span class="nc">AddressRange</span><span class="o">&gt;</span> <span class="nf">getReadOnly</span><span class="o">();</span>

    <span class="cm">/**
     * Set specified memory range as ROM (Read Only Memory).
     *
     * @param range address range
     */</span>
    <span class="kt">void</span> <span class="nf">setReadOnly</span><span class="o">(</span><span class="nc">AddressRange</span> <span class="n">range</span><span class="o">);</span>

    <span class="cm">/**
     * Set specified memory range as RAM (Random Access Memory).
     *
     * @param range address range
     */</span>
    <span class="kt">void</span> <span class="nf">setReadWrite</span><span class="o">(</span><span class="nc">AddressRange</span> <span class="n">range</span><span class="o">);</span>

    <span class="cm">/**
     * Get number of available memory banks.
     *
     * @return count of memory banks
     */</span>
    <span class="kt">int</span> <span class="nf">getBanksCount</span><span class="o">();</span>

    <span class="cm">/**
     * Get index of the selected memory bank.
     *
     * @return index of active (selected) memory bank
     */</span>
    <span class="kt">int</span> <span class="nf">getSelectedBank</span><span class="o">();</span>

    <span class="cm">/**
     * Select (set as active) a memory bank.
     *
     * @param bankIndex index (number) of a bank which should be selected
     */</span>
    <span class="kt">void</span> <span class="nf">selectBank</span><span class="o">(</span><span class="kt">int</span> <span class="n">bankIndex</span><span class="o">);</span>

    <span class="cm">/**
     * Return an address in the memory which represents a boundary from which
     * the memory banks have the same content. Before this address all banks
     * can have different content.
     *
     * @return common boundary address
     */</span>
    <span class="kt">int</span> <span class="nf">getCommonBoundary</span><span class="o">();</span>

    <span class="cm">/**
     * Returns raw memory represented by Java array.
     * &lt;p&gt;
     * Memory notifications must be handled manually if this array changes.
     *
     * @return raw memory
     */</span>
    <span class="nc">Byte</span><span class="o">[][]</span> <span class="nf">getRawMemory</span><span class="o">();</span>

    <span class="cm">/**
     * This interface represents a range of addresses in the memory.
     */</span>
    <span class="kd">interface</span> <span class="nc">AddressRange</span> <span class="o">{</span>
        <span class="kt">int</span> <span class="nf">getStartAddress</span><span class="o">();</span>

        <span class="kt">int</span> <span class="nf">getStopAddress</span><span class="o">();</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div> </div> </div> <div class="search-overlay"></div> </div> <script> var config = {} ; mermaid.initialize(config); window.mermaid.init(undefined, document.querySelectorAll('.language-mermaid')); </script> </body> </html>
